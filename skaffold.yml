apiVersion: skaffold/v2beta28
kind: Config
metadata:
  name: catalog-service
# Enforce SKaffold to use Jib
build:
  local:
    push: false
  # Generated artifact
  artifacts:
    - image: ernestoacostacuba/catalog-service
      context: .
      jib:
        type: maven
        args: [-Pjib, -DskipTests=true, -Dspring.profiles.active=mysqldev]
# Execute deployment.yml
deploy:
  kubectl:
    manifests:
      - k8s/*.yml
